- clean: ['~']

- shell:
  -
    command: git pull
    description: Update dotfiles
    stdout: true
    stderr: true
  -
    command: git submodule update --init --recursive
    description: Installing submodules
    stdout: true
    stderr: true

- link:
    ~/.tmux:
        force: true
        path: tmux/.tmux
    ~/.tmux.conf:
        relink: true
        path: tmux/.tmux.conf
    ~/.vim:
        force: true
        path: vim/.vim
    ~/.vimrc:
        force: true
        path: vim/.vimrc
    ~/.gdbinit:
        force: true
        path: gdb/.gdbinit
    ~/.tools:
        force: true
        path: tools
    ~/.config/ipython:
        force: true
        create: true
        path: ipython
    ~/.oh-my-zsh:
        force: true
        create: true
        path: zsh/oh-my-zsh
    ~/.zplug:
        force: true
        create: true
        path: zsh/zplug
    ~/.zshrc:
        force: true
        create: true
        path: zsh/.zshrc

- shell:
  - tmux start-server
  - tmux new-session -d
  -
    command: ./tmux/.tmux/plugins/tpm/scripts/install_plugins.sh
    description: Installing tmux plugins
    stdout: true
    stderr: true
  - tmux kill-server
  -
    command: vim +PlugInstall +qall now
    description: Installing vim plugins
    stdout: false
    stderr: false
